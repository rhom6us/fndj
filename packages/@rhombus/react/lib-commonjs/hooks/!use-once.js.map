{"version":3,"file":"!use-once.js","sourceRoot":"","sources":["../../src/hooks/!use-once.ts"],"names":[],"mappings":";;;AACA,iCAA2C;AAE3C,SAAgB,SAAS,CAAC,EAAc;IACpC,uDAAuD;IACvD,OAAO,IAAA,iBAAS,EAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAC7B,CAAC;AAHD,8BAGC;AAED,SAAgB,WAAW,CAAI,EAAe,EAAE,GAAG,IAAW;IAC1D,uDAAuD;IAEvD,OAAO,IAAA,eAAO,EAAC,GAAG,EAAE;QAChB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE;YAC/C,OAAO,SAAS,CAAC;SACpB;QAED,OAAO,EAAE,EAAE,CAAC;IAChB,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,kDAAkD;AAChE,CAAC;AAVD,kCAUC;AAED,SAAgB,YAAY,CAAC,EAAc,EAAE,IAAW;IACpD,IAAA,iBAAS,EAAC,GAAG,EAAE;QACX,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,SAAS,CAAC,EAAE;YACjC,OAAO;SACV;QACD,EAAE,EAAE,CAAC;IACT,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,kDAAkD;AAChE,CAAC;AAPD,oCAOC","sourcesContent":["import { Action, Func } from '@rhombus/func';\nimport { useEffect, useMemo } from 'react';\n\nexport function useDoOnce(fn: Action<[]>) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return useEffect(fn, []);\n}\n\nexport function useInitOnce<T>(fn: Func<[], T>, ...deps: any[]): T | undefined {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    return useMemo(() => {\n        if (deps.some(p => p === undefined || p === null)) {\n            return undefined;\n        }\n\n        return fn();\n    }, deps); // eslint-disable-line react-hooks/exhaustive-deps\n}\n\nexport function useOnceReady(fn: Action<[]>, deps: any[]) {\n    useEffect(() => {\n        if (deps.some(p => p === undefined)) {\n            return;\n        }\n        fn();\n    }, deps); // eslint-disable-line react-hooks/exhaustive-deps\n}\n"]}