{"version":3,"file":"use-async-memo.js","sourceRoot":"","sources":["../../src/hooks/use-async-memo.tsx"],"names":[],"mappings":";;;AAEA,+CAA2C;AAI3C,SAAgB,YAAY,CAAO,OAAyB,EAAE,GAAG,IAA8F;IAC3J,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAE7E,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,IAAA,wBAAU,EAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAClD,OAAO,KAAK,CAAC,CAAC,CAAC,MAAO,CAAC,CAAC,CAAC,YAAa,CAAC;AAC3C,CAAC;AALD,oCAKC","sourcesContent":["import { AsyncFunc } from '@rhombus/func';\r\nimport { DependencyList } from 'react';\r\nimport { usePromise } from './use-promise';\r\n\r\nexport function useAsyncMemo<T>(factory: AsyncFunc<[], T>, deps: DependencyList | undefined) : T | undefined;\r\nexport function useAsyncMemo<T, D>(factory: AsyncFunc<[], T>, defaultValue: D, deps: DependencyList | undefined): T | D;\r\nexport function useAsyncMemo<T, D>(factory: AsyncFunc<[], T>, ...args: [deps: DependencyList | undefined] | [defaultValue: D, deps: DependencyList | undefined]):T|D {\r\n    const [defaultValue, deps] = args.length === 2 ? args : [undefined, args[0]];\r\n\r\n    const [ready, result] = usePromise(factory, deps);\r\n    return ready ? result! : defaultValue!;\r\n}\r\n"]}