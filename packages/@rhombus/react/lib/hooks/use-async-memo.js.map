{"version":3,"file":"use-async-memo.js","sourceRoot":"","sources":["../../src/hooks/use-async-memo.tsx"],"names":[],"mappings":"AAEA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAI3C,MAAM,UAAU,YAAY,CAAO,OAAyB,EAAE,GAAG,IAA8F;IAC3J,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAE7E,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAClD,OAAO,KAAK,CAAC,CAAC,CAAC,MAAO,CAAC,CAAC,CAAC,YAAa,CAAC;AAC3C,CAAC","sourcesContent":["import { AsyncFunc } from '@rhombus/func';\nimport { DependencyList } from 'react';\nimport { usePromise } from './use-promise';\n\nexport function useAsyncMemo<T>(factory: AsyncFunc<[], T>, deps: DependencyList | undefined) : T | undefined;\nexport function useAsyncMemo<T, D>(factory: AsyncFunc<[], T>, defaultValue: D, deps: DependencyList | undefined): T | D;\nexport function useAsyncMemo<T, D>(factory: AsyncFunc<[], T>, ...args: [deps: DependencyList | undefined] | [defaultValue: D, deps: DependencyList | undefined]):T|D {\n    const [defaultValue, deps] = args.length === 2 ? args : [undefined, args[0]];\n\n    const [ready, result] = usePromise(factory, deps);\n    return ready ? result! : defaultValue!;\n}\n"]}