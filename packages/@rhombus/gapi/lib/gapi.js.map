{"version":3,"file":"gapi.js","sourceRoot":"","sources":["../src/gapi.ts"],"names":[],"mappings":"AAAA,SAAS,UAAU,CAAC,GAAG,GAAG,mCAAmC;IACzD,OAAO,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACzC,MAAM,EAAE,GAAG,aAAa,CAAC;QACzB,IAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAA6B,CAAC;QACrE,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBACd,MAAM,CAAC,+DAA+D,CAAC,CAAC;gBACxE,OAAO;aACV;YACD,OAAO,EAAE,CAAC;YACV,OAAO;SACV;QACD,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,EAAE,GAAG,EAAE,CAAC;QACf,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;QACjB,MAAM,CAAC,WAAW,GAAG,WAAW,CAAA;QAChC,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QAEjE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;AACP,CAAC;AACD,MAAM,UAAU,EAAE,CAAC;AAKnB,MAAM,CAAC,KAAK,UAAU,OAAO,CAAuB,GAAM;IACtD,OAAO,IAAI,OAAO,CAAU,CAAC,OAAO,EAAE,EAAE;QAEpC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;IAAA,CAAC;AACR,CAAC","sourcesContent":["function loadScript(src = 'https://apis.google.com/js/api.js') {\n    return new Promise<void>((resolve, reject) => {\n        const id = 'gapi-script';\n        let script = document.getElementById(id) as HTMLScriptElement | null;\n        if (script) {\n            if (!window.gapi) {\n                reject(`script was already loaded but \"gapi\" global couldn't be found`);\n                return;\n            }\n            resolve();\n            return;\n        }\n        script = document.createElement('script');\n        script.id = id;\n        script.src = src;\n        script.crossOrigin = 'anonymous'\n        script.addEventListener('load', () => resolve(), { once: true });\n\n        document.head.appendChild(script);\n    });\n}\nawait loadScript();\n\nexport type Gapi = typeof gapi;\n\n\nexport async function loadLib<K extends keyof Gapi>(lib: K): Promise<Gapi[K]>{\n    return new Promise<Gapi[K]>((resolve) => {\n\n        gapi.load(lib, () => resolve(gapi[lib]));\n    });;\n}\n"]}